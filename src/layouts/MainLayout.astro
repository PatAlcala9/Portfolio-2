---
const { title, pageDescription } = Astro.props
---

<script>
  import { mode } from '../stores/mode.js'
  import { gsap } from 'gsap'

  const body = document.getElementById('body')

  mode.subscribe((val) => {
    switch (val) {
      case 'programmerMode':
        gsap.to(body, {
          duration: 0.4,
          backgroundImage: "url('src/assets/images/programming.avif'), url('src/assets/images/programming.webp')",
          backgroundSize: 'cover',
          ease: 'power2.out',
        })
        break
      case 'designerMode':
        gsap.to(body, {
          duration: 0.4,
          backgroundImage: "url('src/assets/images/designing.avif'), url('src/assets/images/designing.webp')",
          backgroundSize: 'cover',
          ease: 'power2.out',
        })
        break
      case 'writerMode':
        gsap.to(body, {
          duration: 0.4,
          backgroundImage: "url('src/assets/images/writing.avif'), url('src/assets/images/writing.webp')",
          backgroundSize: 'cover',
          ease: 'power2.out',
        })
        break
      default:
        gsap.to(body, { duration: 0.4, backgroundColor: 'rgba(245, 245, 245, 0.9)', backgroundImage: 'none', ease: 'power2.out' })
        break
    }
  })
</script>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/icon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content=`${pageDescription} of Patrick Alvin Alcala` />
    <meta name="generator" content={Astro.generator} />
    <title>{title}</title>
  </head>

  <body class="layout" id="body">
    <slot />
  </body>
</html>

<style lang="sass" is:global>
  @use '/src/assets/css/variables.sass' as vars

  .text
    font-family: vars.$fontFamily
    color: vars.$textColor

  .layout
    background-color: vars.$backgroundColor
    position: absolute
    top: 0
    left: 0
    width: 100vw
    width: 100svw
    height: 100vh
    height: 100svh
    overflow: auto
    margin: 0
</style>
